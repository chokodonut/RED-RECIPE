<div class="container">
  <div class="container mt-5">
    <div class="row">
      <div class="col-10 mx-auto">
        <h2>投稿ページ</h2>
        <%= form_with(model: @recipe, url: recipes_path, method: :post) do |f| %>
          <div class="form-group">
            <%= f.label :レシピタイトル %><br />
            <%= f.text_field :title, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= f.label :完成画像 %><br />
            <%= f.file_field :image, accept: "image/*" %>
          </div>

          <div class="form-group">
            <%= f.label :レシピについて %><br />
            <%= f.text_area :description, class: "form-control" %>
          </div>
          <div class="row">
            <div class="col-3">
              <div class="form-check form-check-inline">
                <%= f.label :所要時間, class: "mr-3" %><br />
                <%= f.select :time, *[5..40], class: "form-control" %>分
              </div>
            </div>
            <div class="col-3">
              <div class="form-check form-check-inline">
                <%= f.label :辛さレベル, class: "mr-3" %><br />
                <%= f.select :hot_level, *[1..5], class: "form-control" %>
              </div>
            </div>
            <div class="col-3">
              <div class="form-check form-check-inline">
                <%= f.label :ジャンル選択, class: "mr-1" %><br />
                <%= f.select :genre_id , options_from_collection_for_select(Genre.all, :id, :name), class: "form-control" %>
              </div>
            </div>
          </div>
            <div id='materials'>
              <%= f.fields_for :materials do |material| %>
                <%= render 'material_fields', :f => material %>
              <% end %>
              <div class='links'>
                <%= link_to_add_association '材料追加', f, :materials,
                 data: {
                  association_insertion_node: '#detail-association-insertion-point',
                  association_insertion_method: 'after'
                  } %>
              </div>
            </div>
          <div id="detail-association-insertion-point"></div>

          <div id='steps'>
            <%= f.fields_for :steps do |step| %>
              <%= render 'step_fields', :f => step %>
            <% end %>
            <div class='links'>
              <%= link_to_add_association 'ステップ追加', f, :steps %>
              <!--# data: {-->
              <!--#   association_insertion_node: '#detail-association-insertion-point',-->
              <!--#   association_insertion_method: 'append'}-->
            </div>
          </div>
          <!--<div id="detail-association-insertion-point"></div>-->
          <%= f.submit '投稿', class: "btn btn-outline-primary" %>
        <% end %>
      </div>
    </div>
  </div>
</div>